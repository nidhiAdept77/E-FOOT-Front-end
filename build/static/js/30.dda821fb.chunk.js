(this["webpackJsonpefnl-dashboard"]=this["webpackJsonpefnl-dashboard"]||[]).push([[30],{101:function(e,t,a){"use strict";a(1);var s=a(111),n=a.n(s),c=a(4);t.a=function(e){var t=e.loading;return t&&Object(c.jsx)("div",{className:"sweet-loading",children:Object(c.jsx)(n.a,{color:"#1061ae",loading:t,style:{display:"block",margin:"0 auto"},size:100})})}},102:function(e,t,a){"use strict";var s=a(100),n=a(144),c=a(145),r=a(4);t.a=function(e){var t=e.breadCrumbTitle,a=e.breadCrumbParent,i=e.breadCrumbParent2,l=e.breadCrumbParent3,o=e.breadCrumbActive;return Object(r.jsx)("div",{className:"content-header row",children:Object(r.jsx)("div",{className:"content-header-left col-12 mb-2",children:Object(r.jsx)("div",{className:"row breadcrumbs-top",children:Object(r.jsxs)("div",{className:"col-12",children:[t?Object(r.jsx)("h2",{className:"content-header-title float-left mb-0",children:t}):"",Object(r.jsx)("div",{className:"breadcrumb-wrapper vs-breadcrumbs d-sm-block d-none col-12",children:Object(r.jsxs)(n.a,{children:[Object(r.jsx)(c.a,{tag:"li",children:Object(r.jsx)(s.b,{to:"/dashboard",children:"Dashboard"})}),a&&Object(r.jsx)(c.a,{tag:"li",className:"text-primary",children:a}),i?Object(r.jsx)(c.a,{tag:"li",className:"text-primary",children:i}):"",l?Object(r.jsx)(c.a,{tag:"li",className:"text-primary",children:l}):"",o&&Object(r.jsx)(c.a,{tag:"li",active:!0,children:o})]})})]})})})})}},234:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"d",(function(){return u})),a.d(t,"a",(function(){return O})),a.d(t,"c",(function(){return h}));var s,n,c=a(104),r=a(98),i=a(99),l=(a(119),a(38)),o=(a(30),a(5)),d=a(105),j=a(106),b=function(e,t,a,n){return function(){var b=Object(i.a)(Object(r.a)().mark((function i(b){var u,O,h,m;return Object(r.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,b({type:o.SET_LOADER,payload:!0}),u=Object(j.a)(s||(s=Object(c.a)(["\n            query getPaginatedTransactions($limit: Int, $skip: Int, $searchString: String){\n                getPaginatedTransactions(limit: $limit, skip: $skip, searchString: $searchString){\n                    statusCode\n                    success\n                    message\n                    nextToken\n                    data {\n                        totalPages\n                        skip\n                        limit\n                        data {\n                            txnId\n                            amount\n                            closingBalance\n                            type\n                            status\n                            transactionType\n                            reason\n                            updatedAt\n                        }\n                    }\n                }\n            }\n        "]))),r.next=5,d.a.query({query:u,variables:{limit:e,skip:t*e,searchString:a,isCompleted:n}});case 5:O=r.sent,h=O.data,Object(l.handleAuthResponse)(h.getPaginatedTransactions),h.getPaginatedTransactions.success&&(m=Object(l.getFieldValue)(h,"getPaginatedTransactions.data"),b({type:o.SET_USERS_TRANSACTIONS,payload:m.data}),b({type:o.SET_TOTAL,payload:m.totalPages||1})),b({type:o.SET_LOADER,payload:!1}),r.next=18;break;case 13:return r.prev=13,r.t0=r.catch(0),b({type:o.SET_LOADER,payload:!1}),console.error("error: ",r.t0),r.abrupt("return",{success:!1,message:[r.t0.message]});case 18:case"end":return r.stop()}}),i,null,[[0,13]])})));return function(e){return b.apply(this,arguments)}}()},u=function(){return function(){var e=Object(i.a)(Object(r.a)().mark((function e(t){return Object(r.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:o.SET_USERS_TRANSACTIONS,payload:[]});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(i.a)(Object(r.a)().mark((function t(s){var i,o,b,u,O,h,m;return Object(r.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=a(5),o=i.SET_TRANSACTION,b=i.SET_LOADER,s({type:b,payload:!0}),t.prev=2,u=Object(j.a)(n||(n=Object(c.a)(["\n           query getTransactionsByTxnId($txnId: String){\n                getTransactionsByTxnId(txnId: $txnId){\n                    statusCode\n                    success\n                    message\n                    nextToken\n                    data{\n                        _id\n                        amount\n                        type\n                        transactionType\n                        reason\n                    }\n                }\n                }\n        "]))),t.next=6,d.a.query({query:u,variables:{txnId:e}});case 6:O=t.sent,h=O.data,Object(l.handleAuthResponse)(h.getTransactionsByTxnId),h.getTransactionsByTxnId.success&&(m=Object(l.getFieldValue)(h,"getTransactionsByTxnId.data"),s({type:o,payload:m})),s({type:b,payload:!1}),t.next=19;break;case 14:return t.prev=14,t.t0=t.catch(2),s({type:b,payload:!1}),console.error("error: ",t.t0),t.abrupt("return",{success:!1,message:[t.t0.message]});case 19:case"end":return t.stop()}}),t,null,[[2,14]])})));return function(e){return t.apply(this,arguments)}}()},h=function(){return function(e){e({type:a(5).SET_TRANSACTION,payload:{}})}}},515:function(e,t,a){},520:function(e,t,a){},621:function(e,t,a){"use strict";a.r(t);var s=a(14),n=a(1),c=a(49),r=a(169),i=a(170),l=(a(515),a(101)),o=a(313),d=a(11),j=a(12),b=a.n(j),u=a(4),O=function(e){var t=e.data,a=e.tag,s=e.className,n=a||"ul";return Object(u.jsx)(n,{className:b()("timeline",Object(d.a)({},s,s)),children:t.map((function(e,a){var n,c=e.tag?e.tag:"li";return Object(u.jsxs)(c,{className:b()("timeline-item",Object(d.a)({},e.className,s)),children:[Object(u.jsx)("span",{className:b()("timeline-point",(n={},Object(d.a)(n,"timeline-point-".concat(e.color),e.color),Object(d.a)(n,"timeline-point-indicator",!e.icon),n)),children:e.icon?e.icon:null}),Object(u.jsxs)("div",{className:"timeline-event",children:[Object(u.jsxs)("div",{className:b()("d-flex justify-content-between flex-sm-row flex-column",{"mb-sm-0 mb-1":e.meta}),children:[Object(u.jsx)("h6",{children:e.title}),e.meta?Object(u.jsx)("span",{className:b()("timeline-event-time",Object(d.a)({},e.metaClassName,e.metaClassName)),children:e.meta}):null]}),Object(u.jsx)("p",{className:b()({"mb-0":a===t.length-1&&!e.customContent}),children:e.content}),e.customContent?e.customContent:null]})]},a)}))})},h=a(604),m=a(589),x=a(605),p=a(556),g=a(606),f=a(586),v=a(587),y=a(588),N=a(590),T=a(236),S=a.n(T),w=a(22),C=a(219),A=a(20),E=a.n(A),k=function(){var e=Object(w.c)(),t=Object(w.d)((function(e){return e.dashboard})).userActivities,a=Object(n.useState)([]),c=Object(s.a)(a,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){return e(Object(C.b)()),function(){}}),[]),Object(n.useEffect)((function(){i(t)}),[t]),Object(u.jsxs)(f.a,{className:"card-user-timeline",id:"myTimeline",children:[Object(u.jsxs)(v.a,{children:[Object(u.jsxs)("div",{className:"d-flex align-items-center",children:[Object(u.jsx)(h.a,{className:"user-timeline-title-icon"}),Object(u.jsx)(y.a,{tag:"h4",children:"User Timeline"})]}),Object(u.jsx)(m.a,{size:18,id:"userActivityHelp",className:"text-muted cursor-pointer"}),Object(u.jsx)(S.a,{placement:"auto",target:"userActivityHelp",children:"User's Activity"})]}),Object(u.jsx)(N.a,{children:Object(u.jsx)(O,{className:"ml-50 mb-0",data:(null===r||void 0===r?void 0:r.map((function(e){return{title:null===e||void 0===e?void 0:e.title,content:null===e||void 0===e?void 0:e.message,icon:null!==e&&void 0!==e&&e.title.includes("Profile")?Object(u.jsx)(x.a,{size:14}):null!==e&&void 0!==e&&e.title.includes("Challenge")?Object(u.jsx)(p.a,{size:14}):Object(u.jsx)(g.a,{size:14}),meta:E()(new Date(parseInt(null===e||void 0===e?void 0:e.createdAt))).fromNow(),metaClassName:"mr-1",color:null===e||void 0===e?void 0:e.color}})))||[]})})]})},I=(a(261),a(312)),R=a.n(I),P=a(184),F=a(568),_=function(e){var t=e.success,a=e.data,c=a.wins,l=void 0===c?0:c,o=(a.loss,a.lastMatches,a.totalChallenges),d=void 0===o?0:o,j=a.totalPlayers,b=void 0===j?0:j,O=(a.points,a.position),h=void 0===O?0:O,x=Object(n.useState)({completed:0,inProgress:0}),p=Object(s.a)(x,2),g=(p[0],p[1]);Object(n.useEffect)((function(){g({completed:d,inProgress:l})}),[a]);var T=parseFloat(100*parseInt(l)/parseInt(d)).toFixed(2),w={chart:{sparkline:{enabled:!0},dropShadow:{enabled:!0,blur:3,left:1,top:1,opacity:.1}},colors:["#51e5a8"],plotOptions:{radialBar:{offsetY:10,startAngle:-150,endAngle:150,hollow:{size:"77%"},track:{background:"#ebe9f1",strokeWidth:"50%"},dataLabels:{name:{show:!1},value:{color:"#5e5873",fontFamily:"Montserrat",fontSize:"2.86rem",fontWeight:"600"}}}},fill:{type:"gradient",gradient:{shade:"dark",type:"horizontal",shadeIntensity:.5,gradientToColors:[t],inverseColors:!0,opacityFrom:1,opacityTo:1,stops:[0,100]}},stroke:{lineCap:"round"},grid:{padding:{bottom:30}}},C=[isNaN(T)?0:T];return Object(u.jsxs)(f.a,{className:"overview",children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{tag:"h4",children:Object(u.jsx)(F.a,{id:"Challenge Win Overview"})}),Object(u.jsx)(m.a,{size:18,id:"challangeHelp",className:"text-muted cursor-pointer"}),Object(u.jsx)(S.a,{placement:"auto",target:"challangeHelp",children:"Challange information and win percentage of user with loss being calculated based on loss and draw."})]}),Object(u.jsx)(N.a,{className:"p-0",children:Object(u.jsx)(R.a,{options:w,series:C,type:"radialBar",height:245})}),parseInt(h)?Object(u.jsx)(r.a,{className:"border-top text-center mx-0",children:Object(u.jsxs)(i.a,{xs:"12",className:"border-right py-1",children:[Object(u.jsx)(P.a,{className:"text-muted mb-0",children:"Rank"}),Object(u.jsxs)("h3",{className:"font-weight-bolder mb-0",children:[h," of ",b," players"]})]})}):Object(u.jsx)(u.Fragment,{}),Object(u.jsxs)(r.a,{className:"border-top text-center mx-0",children:[Object(u.jsxs)(i.a,{xs:"6",className:"border-right py-1",children:[Object(u.jsx)(P.a,{className:"text-muted mb-0",children:"Win"}),Object(u.jsx)("h3",{className:"font-weight-bolder mb-0",children:l})]}),Object(u.jsxs)(i.a,{xs:"6",className:"py-1",children:[Object(u.jsx)(P.a,{className:"text-muted mb-0",children:"Loss"}),Object(u.jsx)("h3",{className:"font-weight-bolder mb-0",children:d-l})]})]})]})},z=a(629),B=(a(520),function(e){e.info;var t,a=e.data,c=Object(n.useState)({}),r=Object(s.a)(c,2),i=r[0],l=r[1];Object(n.useEffect)((function(){a&&l(a)}),[a]);var o="Number of challanges wins by user";return Object.keys(i).length?Object(u.jsxs)(f.a,{className:"overview",children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{tag:"h4",children:"Last 5 Matches"}),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m.a,{size:18,id:"tinyChartStatsHelp",className:"text-muted cursor-pointer"}),Object(u.jsx)(z.a,{placement:"auto",target:"tinyChartStatsHelp",children:o})]})]}),Object(u.jsx)(N.a,{className:"pb-50",children:Object(u.jsx)("div",{id:"table_matches",children:Object(u.jsx)("table",{children:(null===i||void 0===i||null===(t=i.lastMatches)||void 0===t?void 0:t.map((function(e){var t=e.challengerName,a=void 0===t?"":t,s=e.winLoseScore,n=void 0===s?"":s,c=e.opponentName,r=void 0===c?"":c;return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:Object(u.jsx)("small",{children:a})}),Object(u.jsx)("td",{children:Object(u.jsx)("small",{children:n})}),Object(u.jsx)("td",{children:Object(u.jsx)("small",{children:r})})]})})})))||null})})})]}):null}),D=function(e){var t=e.title,a=e.stats,s=e.options,n=e.series,c=e.type,r=e.height,i=e.className,l=e.tooltip,o="card-tiny-line-stats ".concat(i);return Object(u.jsxs)(f.a,{className:o,children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{tag:"h4",children:t}),l&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(m.a,{size:18,id:"tinyChartStatsHelp",className:"text-muted cursor-pointer"}),Object(u.jsx)(z.a,{placement:"auto",target:"tinyChartStatsHelp",children:l})]})]}),Object(u.jsxs)(N.a,{className:"pb-50",children:[Object(u.jsx)("h6",{children:t}),Object(u.jsx)("h2",{className:"font-weight-bolder mb-1",children:a}),Object(u.jsx)(R.a,{options:s,series:n,type:c,height:r})]})]})},W=D;D.defaultProps={height:100};var H=function(e){var t=e.warning,a=e.data,c=Object(n.useState)({title:"E-FOOT Coins",statistics:0,series:[{name:"E-FOOT Coins",data:[0,0,0]}]}),r=Object(s.a)(c,2),i=r[0],l=r[1];Object(n.useEffect)((function(){var e=a.wins,t=void 0===e?0:e,s=a.loss,n=void 0===s?0:s,c=(a.lastMatches,a.totalChallenges,a.totalPlayers,a.points),r=void 0===c?0:c;a.position;l({title:"E-FOOT Coins",statistics:r||0,series:[{name:"E-FOOT Coins",data:[{x:"Coins",y:[0,r]},{x:"wins",y:[t]},{x:"loss",y:[n]}]}]})}),[a]);var o={chart:{stacked:!0,toolbar:{show:!1}},grid:{show:!1,padding:{left:0,right:0,top:-30,bottom:-14}},plotOptions:{bar:{horizontal:!1,columnWidth:"15%",startingShape:"rounded",colors:{backgroundBarColors:["#c1c1c1","#c1c1c1","#c1c1c1"],backgroundBarRadius:1}}},legend:{show:!1},dataLabels:{enabled:!1},colors:[t],xaxis:{labels:{show:!0},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{show:!1},tooltip:{x:{show:!1}}};return null!==i?Object(u.jsx)(W,{height:70,type:"bar",options:o,title:i.title,stats:i.statistics.toString(),series:i.series,tooltip:"E-Foot coins based on win/loss Challenges"}):null},L=a(102),$=a(43),U=a(607),q=a(608),M=a(558),Y=a(234),J=a(30),V=function(){var e=Object(w.d)((function(e){return e.wallet})).userTransactions,t=Object(w.c)();Object(n.useEffect)((function(){return t(Object(Y.b)(5,0,"",!0)),function(){Object(Y.d)()}}),[]);return Object(u.jsxs)(f.a,{className:"card-transaction",children:[Object(u.jsxs)(v.a,{children:[Object(u.jsx)(y.a,{tag:"h4",children:"Transactions"}),Object(u.jsx)(m.a,{size:18,id:"onlineUsersTransaction",className:"text-muted cursor-pointer"}),Object(u.jsx)(S.a,{placement:"auto",target:"onlineUsersTransaction",children:"This will show transaction detials of user"})]}),Object(u.jsx)(N.a,{children:e.length>0?e.map((function(e,t){var a=e.type===J.CONSTANTS.TRANSACTION_TYPE.WITHDRAW?"light-danger":"light-primary",s=e.type===J.CONSTANTS.TRANSACTION_TYPE.WITHDRAW?Object(u.jsx)(U.a,{size:18}):Object(u.jsx)(q.a,{size:18});return Object(u.jsxs)("div",{className:"transaction-item cursor-pointer",children:[Object(u.jsxs)(M.a,{children:[Object(u.jsx)($.a,{className:"rounded",color:a,icon:s}),Object(u.jsxs)(M.a,{body:!0,children:[Object(u.jsx)("h6",{className:"transaction-title text-capitalize",children:e.transactionType}),Object(u.jsx)("small",{children:e.reason})]})]}),Object(u.jsxs)("div",{className:"font-weight-bolder ".concat(e.type===J.CONSTANTS.TRANSACTION_TYPE.WITHDRAW?"text-danger":"text-success"),children:[e.type===J.CONSTANTS.TRANSACTION_TYPE.WITHDRAW?"-":""," "," ","$",e.amount]})]},"".concat(e.title,"-").concat(t))})):null})]})},G=a(521),K=a.n(G);t.default=Object(w.b)((function(e){return{loading:e.auth.loading}}),{})((function(e){var t=e.loading,a=Object(w.c)(),d=Object(w.d)((function(e){return e.dashboard})),j=d.dashboardUserId,b=d.userDashboardDetails,O=Object(w.d)((function(e){return e.auth})).user,h=(O=void 0===O?"":O)._id,m=void 0===h?"":h,x=Object(n.useState)({}),p=Object(s.a)(x,2),g=p[0],f=p[1],v=Object(n.useState)({}),y=Object(s.a)(v,2),N=y[0],T=y[1],S=Object(n.useState)(!0),A=Object(s.a)(S,2),E=A[0],I=A[1];Object(n.useEffect)((function(){a(Object(C.a)(j)),I(N===m)}),[N]),Object(n.useEffect)((function(){T(j)}),[j]),Object(n.useEffect)((function(){I(j===m)}),[j,m]),Object(n.useEffect)((function(){return j?a(Object(C.a)(j)):null===j&&a(Object(C.c)(m)),function(){a(Object(C.c)(m)),I(!0)}}),[]),Object(n.useEffect)((function(){return Object.keys(b).length&&f(b),function(){}}),[b]);var R=Object(n.useContext)(c.a).colors;return Object(u.jsxs)("div",{id:"dashboard-analytics",children:[Object(u.jsx)(l.a,{loading:t}),Object(u.jsx)(L.a,{breadCrumbTitle:"Dashboard"}),E?Object(u.jsx)(u.Fragment,{}):Object(u.jsx)(K.a,{className:"btn btn-sm btn-warning mb-1",onClick:function(){a(Object(C.c)(m)),I(!0)},children:"My Board"}),Object(u.jsxs)(r.a,{className:"match-height",children:[Object(u.jsx)(i.a,{lg:E?9:12,md:E?8:12,children:Object(u.jsx)(r.a,{children:Object(u.jsx)(i.a,{md:12,children:Object(u.jsxs)(r.a,{className:"card-margin",children:[Object(u.jsxs)(i.a,{lg:5,md:"4",sm:"12",children:[Object(u.jsx)(r.a,{children:Object(u.jsx)(i.a,{lg:"12",md:"12",sm:"12",xs:"12",children:Object(u.jsx)(H,{data:g,warning:R.warning.main})})}),Object(u.jsx)(r.a,{children:Object(u.jsx)(i.a,{lg:"12",md:"12",sm:"12",xs:"12",children:Object(u.jsx)(B,{data:g,info:R.primary.main})})})]}),Object(u.jsx)(i.a,{lg:"7",md:"8",sm:"12",children:Object(u.jsx)(_,{data:g,success:R.primary.main})})]})})})}),E?Object(u.jsx)(i.a,{lg:"3",md:"4",sm:"12",children:Object(u.jsx)(o.a,{showheader:!0,colors:R,trackBgColor:"#e9ecef"})}):Object(u.jsx)(u.Fragment,{})]}),E?Object(u.jsxs)(r.a,{className:"match-height",children:[Object(u.jsx)(i.a,{lg:"8",md:"8",sm:"12",xs:"12",children:Object(u.jsx)(k,{})}),Object(u.jsx)(i.a,{lg:"4",md:"4",sm:"12",xs:"12",children:Object(u.jsx)(V,{})})]}):Object(u.jsx)(u.Fragment,{})]})}))}}]);
//# sourceMappingURL=30.dda821fb.chunk.js.map